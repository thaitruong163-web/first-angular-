<div *ngIf="order">
  <h2>Chi tiáº¿t Ä‘Æ¡n hÃ ng </h2>
  <p>Tá»•ng tiá»n: <strong>{{ order.totalPrice | number }} Ä‘</strong></p>
  <p>Tráº¡ng thÃ¡i: <strong [ngClass]="order.status">{{ order.status }}</strong></p>

  <h3>Sáº£n pháº©m trong Ä‘Æ¡n:</h3>
  <ul>
    <li *ngFor="let item of order.products">
      {{ item.title }} - {{ item.quantity }} x {{ item.price }}Ä‘
    </li>
  </ul>

  <!-- Payment Form -->
  <div *ngIf="showPayment && order.status === 'pending'" class="payment-section">
    <app-payment 
      [orderId]="order.id" 
      [amount]="order.totalPrice"
      (paymentSuccess)="onPaymentSuccess()"
      (paymentCancel)="onPaymentCancel()">
    </app-payment>
  </div>

  <div class="action-buttons" *ngIf="order.status === 'pending' && !showPayment">
    <h3>XÃ¡c nháº­n thanh toÃ¡n:</h3>
    <button (click)="openPayment()" class="btn-success">
      ğŸ’³ Thanh toÃ¡n
    </button>

    <button (click)="changeStatus('cancelled')" class="btn-danger">
      Há»§y Ä‘Æ¡n hÃ ng
    </button>
  </div>

  <div class="completed-message" *ngIf="order.status !== 'pending'">
    <p>ÄÆ¡n hÃ ng Ä‘Ã£ Ä‘Æ°á»£c xá»­ lÃ½: <strong>{{ order.status }}</strong></p>
  </div>

</div>